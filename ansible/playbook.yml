---
- name: Example NETCONF configuration generated by a Jinja template and host_vars
  hosts: dal.edge01
  gather_facts: no

  # This role provides juniper_junos_config, below
  roles:
  - Juniper.junos

  tasks:
  - name: Create a juniper set configuration file
    template:
      src: juniper_config.j2
      dest: "{{ inventory_hostname }}.set"

  - name: Load the configuration (300-second timeout due to slow vJunos-switch docker host)
    juniper_junos_config:
      timeout: 300
      config_mode: private
      load: set
      src: "{{ inventory_hostname }}.set"
